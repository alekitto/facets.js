{"version":3,"file":"facets-js.umd.js","sources":["../lib/i18n/en.ts","../lib/i18n/it.ts","../lib/FieldType.ts","../lib/Field.ts","../node_modules/event-target-shim/dist/event-target-shim.mjs","../lib/util.ts","../lib/filter/Filter.ts","../lib/Facets.ts","../facets-js.ts"],"sourcesContent":["import { Localization } from './localization';\n\nexport const en: Localization = {\n    'is equal to': 'is equal to',\n    'is not equal to': 'is not equal to',\n    'contains': 'contains',\n    'does not contain': 'does not contain',\n    'starts with': 'starts with',\n    'ends with': 'ends with',\n    'is empty': 'is empty',\n    'is not empty': 'is not empty',\n    'greater than': 'greater than',\n    'greater than or equal': 'greater than or equal',\n    'less than': 'less than',\n    'less than or equal': 'less than or equal',\n    'loading': 'Loading...',\n    'error while loading options': 'Error while loading options',\n    Yes: 'Yes',\n    No: 'No',\n};\n","import { Localization } from './localization';\n\nexport const it: Localization = {\n    'is equal to': 'è uguale a',\n    'is not equal to': 'non è uguale a',\n    'contains': 'contiene',\n    'does not contain': 'non contiene',\n    'starts with': 'inizia per',\n    'ends with': 'finisce con',\n    'is empty': 'è vuoto',\n    'is not empty': 'non è vuoto',\n    'greater than': 'è maggiore di',\n    'greater than or equal': 'è maggiore o uguale a',\n    'less than': 'è minore di',\n    'less than or equal': 'è minore o uguale a',\n    'loading': 'Caricamento...',\n    'error while loading options': 'Errore durante il caricamento delle opzioni',\n    Yes: 'Sì',\n    No: 'No',\n};\n","export enum FieldType {\n    TEXT = 'text',\n    BOOLEAN = 'boolean',\n    NUMBER = 'number',\n    DATE = 'date',\n    TIME = 'time',\n    CHOICE = 'choice',\n    CUSTOM = 'custom',\n    SEPARATOR = 'separator',\n}\n","import { FieldType } from './FieldType';\n\ninterface BaseFieldProps {\n    name: string;\n    label?: string;\n}\n\nexport interface Choice {\n    label: string;\n    value: string;\n}\n\nexport type Choices = Choice[] | IterableIterator<Choice>;\ntype ChoicesLoader = Choices | (() => IterableIterator<Choices>) | (() => Promise<IterableIterator<Choices>>);\n\nexport type FieldProps = BaseFieldProps & ({\n    type: Exclude<FieldType, FieldType.CHOICE | FieldType.CUSTOM>;\n} | {\n    type: FieldType.CHOICE;\n    choices: null | ChoicesLoader;\n} | {\n    type: FieldType.CUSTOM,\n    value: any,\n});\n\nexport class Field {\n    readonly name: string;\n    readonly label: string;\n    readonly type: FieldType;\n    readonly choices: null | ChoicesLoader;\n    readonly value: undefined | any;\n\n    constructor(props: FieldProps) {\n        this.name = props.name;\n        this.label = props.label ?? props.name;\n        this.type = props.type;\n        this.choices = props.type === FieldType.CHOICE ? props.choices : null;\n        this.value = props.type === FieldType.CUSTOM ? props.value : undefined;\n    }\n}\n","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap();\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap();\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event);\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    );\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            );\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true;\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault();\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    });\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true });\n\n    // Define accessors\n    const keys = Object.keys(event);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key));\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget;\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation();\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        data.immediateStopped = true;\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation();\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this));\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true;\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this));\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype);\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event);\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value;\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event;\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto);\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event);\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    });\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key);\n            const isFunc = typeof descriptor.value === \"function\";\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            );\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto);\n        wrappers.set(proto, wrapper);\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nfunction wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event));\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nfunction isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nfunction setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase;\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nfunction setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget;\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nfunction setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener;\n}\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap();\n\n// Listener types\nconst CAPTURE = 1;\nconst BUBBLE = 2;\nconst ATTRIBUTE = 3;\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget);\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this);\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next;\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null; // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this);\n\n            // Traverse to the tail while removing old value.\n            let prev = null;\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next;\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next);\n                    } else {\n                        listeners.delete(eventName);\n                    }\n                } else {\n                    prev = node;\n                }\n\n                node = node.next;\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                };\n                if (prev === null) {\n                    listeners.set(eventName, newNode);\n                } else {\n                    prev.next = newNode;\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    );\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this);\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    });\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i]);\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map());\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length);\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this);\n        const optionsIsObj = isObject(options);\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        };\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName);\n        if (node === undefined) {\n            listeners.set(eventName, newNode);\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null;\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node;\n            node = node.next;\n        }\n\n        // Add it.\n        prev.next = newNode;\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this);\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n\n        let prev = null;\n        let node = listeners.get(eventName);\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n                return\n            }\n\n            prev = node;\n            node = node.next;\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this);\n        const eventName = event.type;\n        let node = listeners.get(eventName);\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event);\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null;\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n            } else {\n                prev = node;\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            );\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent);\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err);\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent);\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next;\n        }\n        setPassiveListener(wrappedEvent, null);\n        setEventPhase(wrappedEvent, 0);\n        setCurrentTarget(wrappedEvent, null);\n\n        return !wrappedEvent.defaultPrevented\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype);\n}\n\nexport default EventTarget;\nexport { defineEventAttribute, EventTarget };\n//# sourceMappingURL=event-target-shim.mjs.map\n","export const createLink = (className: string, label: string, hidden: boolean): HTMLAnchorElement => {\n    const el = document.createElement('a');\n    el.classList.add(className);\n    if (hidden) {\n        el.style.display = 'none';\n    }\n\n    el.addEventListener('click', e => e.preventDefault());\n    el.innerText = label;\n\n    return el;\n};\n\nexport const createButton = (className: string, label: string, icon?: string): HTMLButtonElement => {\n    const el = document.createElement('button');\n    el.type = 'button';\n\n    el.classList.add(className);\n\n    if (icon) {\n        el.title = label;\n\n        const iconEl = document.createElement('i');\n        iconEl.classList.add('facets-ico-' + icon);\n        el.appendChild(iconEl);\n    } else {\n        el.innerText = label;\n    }\n\n    return el;\n};\n","import { Choice, Choices, Field } from '../Field';\nimport EventTarget from 'event-target-shim';\nimport { FieldType } from '../FieldType';\nimport { FilterInterface } from './FilterInterface';\nimport { Localization } from '../i18n/localization';\nimport { createButton } from '../util';\nimport { en } from '../i18n/en';\n\nconst TEXT_OPERATORS: [string, keyof Localization][] = [\n    [ 'eq', 'is equal to' ],\n    [ 'neq', 'is not equal to' ],\n    [ 'ct', 'contains' ],\n    [ 'nct', 'does not contain' ],\n    [ 'sw', 'starts with' ],\n    [ 'ew', 'ends with' ],\n    [ 'null', 'is empty' ],\n    [ 'notnull', 'is not empty' ],\n];\n\nconst NUMBER_OPERATORS: [string, keyof Localization][] = [\n    [ 'eq', 'is equal to' ],\n    [ 'neq', 'is not equal to' ],\n    [ 'gt', 'greater than' ],\n    [ 'gte', 'greater than or equal' ],\n    [ 'lt', 'less than' ],\n    [ 'lte', 'less than or equal' ],\n    [ 'null', 'is empty' ],\n    [ 'notnull', 'is not empty' ],\n];\n\nconst isBlink: boolean = (() => {\n    const ua = navigator.userAgent;\n\n    return /(?:AppleWebKit|Chrome)/.test(ua);\n})();\n\nexport class Filter extends EventTarget implements FilterInterface {\n    public other?: () => string;\n    readonly container: HTMLElement;\n\n    private readonly hide: () => void;\n    private readonly show: () => void;\n    private _field: Field | null = null;\n    private _operator?: () => [string, string];\n    private specContainer: HTMLDivElement;\n    private label: HTMLSpanElement;\n\n    private fieldSelect: HTMLSelectElement;\n    private operatorSelect: null | HTMLSelectElement = null;\n    private otherInput: null | HTMLInputElement | HTMLSelectElement = null;\n\n    constructor(private fields: Field[] | Readonly<Field[]>, appendChild: (element: HTMLElement) => HTMLElement, private locale: Localization = en, show = true) {\n        super();\n\n        const container = document.createElement('div');\n        container.classList.add('filter-container');\n        container.style.display = 'flex';\n\n        this.container = appendChild(container);\n\n        const fieldSelect = this.fieldSelect = this.container.appendChild(document.createElement('select'));\n        let emptyOption: HTMLOptionElement | null = fieldSelect.appendChild(document.createElement('option'));\n\n        fieldSelect.value = '';\n        for (const field of fields) {\n            if (field.type === FieldType.SEPARATOR) {\n                let element;\n                if (isBlink) {\n                    element = document.createElement('hr');\n                } else {\n                    element = document.createElement('option');\n                    element.disabled = true;\n                    element.value = '--------------------';\n                }\n\n                fieldSelect.appendChild(element);\n            } else {\n                const option = document.createElement('option');\n                option.value = field.name;\n                option.innerText = field.label;\n\n                fieldSelect.appendChild(option);\n            }\n        }\n\n        this.specContainer = this.container.appendChild(document.createElement('div'));\n        this.specContainer.style.display = 'flex';\n\n        this.label = this.container.appendChild(document.createElement('span'));\n        this.label.classList.add('filter-label');\n        this.label.style.display = 'none';\n\n        const removeFilterBtn = this.container.appendChild(createButton('remove-filter-btn', 'Remove filter', 'minus'));\n        removeFilterBtn.addEventListener('click', () => {\n            const e = new CustomEvent('remove', {\n                detail: {\n                    target: this,\n                },\n            });\n\n            this.dispatchEvent(e);\n        });\n\n        const applyFilterBtn = this.container.appendChild(createButton('apply-filter-btn', 'Apply filter', 'checkmark'));\n        applyFilterBtn.style.display = 'none';\n        applyFilterBtn.addEventListener('click', () => this.applyFilter());\n\n        fieldSelect.addEventListener('change', e => {\n            e.stopPropagation();\n            if (null !== emptyOption) {\n                fieldSelect.removeChild(emptyOption);\n                emptyOption = null;\n            }\n\n            const field = fields.find(f => f.name === (e.target as HTMLSelectElement).value)!;\n            if (! field) {\n                e.preventDefault();\n                return;\n            }\n\n            applyFilterBtn.style.display = 'block';\n            this._field = field;\n            this._initFilter();\n        });\n\n        fieldSelect.focus();\n\n        this.hide = (): void => {\n            fieldSelect.style.display = 'none';\n            this.specContainer.style.display = 'none';\n            applyFilterBtn.style.display = 'none';\n            removeFilterBtn.style.display = 'none';\n\n            this.label.style.display = 'inline-block';\n        };\n\n        this.show = (): void => {\n            const event = new CustomEvent('open', {\n                detail: {\n                    target: this,\n                },\n            });\n\n            this.dispatchEvent(event);\n            if (event.defaultPrevented) {\n                return;\n            }\n\n            fieldSelect.style.display = 'block';\n            this.specContainer.style.display = 'flex';\n            applyFilterBtn.style.display = this._field ? 'block' : 'none';\n            removeFilterBtn.style.display = 'block';\n\n            this.label.style.display = 'none';\n        }\n\n        this.label.addEventListener('click', () => this.show());\n        if (show) {\n            setTimeout(() => this.show(), 0);\n        }\n\n        this.container.addEventListener('keydown', e => {\n            if ('Enter' === e.key || 13 === e.which || 13 === e.keyCode) {\n                this.applyFilter();\n                return false;\n            }\n\n            return true;\n        }, { capture: true });\n    }\n\n    get field() {\n        return this._field ? this._field.name : '';\n    }\n\n    set field(field: string) {\n        const fieldObject = this.fields.find(f => f.name === field);\n        if (! fieldObject) {\n            return;\n        }\n\n        this._field = fieldObject;\n        this.fieldSelect.value = fieldObject.name;\n        this._initFilter();\n    }\n\n    get operator(): [string, string] {\n        return this._operator ? this._operator() : [ 'eq', this.locale['is equal to'] ];\n    }\n\n    set operator(op: [string, string]) {\n        if (this.operatorSelect) {\n            this.operatorSelect.value = op[0];\n        }\n\n        this._operator = () => op;\n    }\n\n    get value(): any {\n        return this.other ? this.other() : null;\n    }\n\n    set value(value: any) {\n        if (this.otherInput) {\n            this.otherInput.value = value;\n        }\n\n        this.other = () => value;\n    }\n\n    private createTextFilter() {\n        const operatorSelect = this.operatorSelect = this.specContainer.appendChild(document.createElement('select'));\n        for (const op of TEXT_OPERATORS) {\n            const option = document.createElement('option');\n            option.value = op[0];\n            option.innerText = this.locale[op[1]] ?? op[1];\n\n            operatorSelect.appendChild(option);\n        }\n\n        const comparandInput = this.otherInput = this.specContainer.appendChild(document.createElement('input'));\n        comparandInput.type = 'text';\n        comparandInput.value = '';\n\n        operatorSelect.addEventListener('change', e => {\n            const operator = (e.target as HTMLSelectElement).value;\n            comparandInput.style.display = 'null' === operator || 'notnull' === operator ? 'none' : 'block';\n        });\n\n        this._operator = () => {\n            const value = operatorSelect.value;\n            return TEXT_OPERATORS.find(o => o[0] === value) as [string, keyof Localization];\n        };\n\n        this.other = () => comparandInput.value;\n    }\n\n    private createNumberFilter(type: FieldType.NUMBER | FieldType.DATE | FieldType.TIME) {\n        const operatorSelect = this.operatorSelect = this.specContainer.appendChild(document.createElement('select'));\n        for (const op of NUMBER_OPERATORS) {\n            const option = document.createElement('option');\n            option.value = op[0];\n            option.innerText = this.locale[op[1]] ?? op[1];\n\n            operatorSelect.appendChild(option);\n        }\n\n        const comparandInput = this.otherInput = this.specContainer.appendChild(document.createElement('input'));\n        comparandInput.value = '';\n        if (FieldType.NUMBER === type) {\n            comparandInput.type = 'number';\n        } else if (FieldType.DATE === type) {\n            comparandInput.type = 'date';\n        } else {\n            comparandInput.type = 'time';\n        }\n\n        operatorSelect.addEventListener('change', e => {\n            const operator = (e.target as HTMLSelectElement).value;\n            comparandInput.style.display = 'null' === operator || 'notnull' === operator ? 'none' : 'block';\n        });\n\n        this._operator = () => {\n            const value = operatorSelect.value;\n            return NUMBER_OPERATORS.find(o => o[0] === value) as [string, keyof Localization];\n        };\n\n        this.other = () => comparandInput.value;\n    }\n\n    private createBooleanFilter() {\n        const comparandSelect = this.otherInput = this.specContainer.appendChild(document.createElement('select'));\n        const values: [string, keyof Localization][] = [\n            [ '1', 'Yes' ],\n            [ '0', 'No' ],\n        ];\n\n        for (const op of values) {\n            const option = document.createElement('option');\n            option.value = op[0];\n            option.innerText = this.locale[op[1]] ?? op[1];\n\n            comparandSelect.appendChild(option);\n        }\n\n        this._operator = () => [ 'eq', 'is equal to' ];\n        this.other = () => comparandSelect.value;\n    }\n\n    private createChoiceFilter() {\n        const comparandSelect = this.otherInput = this.specContainer.appendChild(document.createElement('select'));\n        let choices: unknown = this._field?.choices ?? [];\n\n        const loadChoices = (choices: Choice[] | IterableIterator<Choice>) => {\n            comparandSelect.innerHTML = '';\n\n            for (const choice of choices) {\n                const option = document.createElement('option');\n                option.value = choice.value\n                option.innerText = choice.label;\n\n                comparandSelect.appendChild(option);\n            }\n        };\n\n        if ('function' === typeof choices) {\n            choices = choices() as (Choices | Promise<Choices>);\n        }\n\n        if ('then' in (choices as Choices | Promise<Choices>)) {\n            const loadingOption = document.createElement('option');\n            loadingOption.value = '';\n            loadingOption.innerText = this.locale['loading'];\n            comparandSelect.appendChild(loadingOption);\n\n            (choices as Promise<IterableIterator<Choice>>).then(loadChoices, () => {\n                loadingOption.innerText = this.locale['error while loading options'];\n            });\n        } else {\n            loadChoices(choices as Choices);\n        }\n\n        this._operator = () => [ 'eq', 'is equal to' ];\n        this.other = () => comparandSelect.value;\n    }\n\n    private _initFilter() {\n        const field = this._field;\n        if (! field) {\n            return;\n        }\n\n        this.specContainer.innerHTML = '';\n        this.operatorSelect = null;\n        this.otherInput = null;\n        switch (field.type) {\n            case FieldType.TEXT:\n                this.createTextFilter();\n                break;\n\n            case FieldType.NUMBER:\n            case FieldType.DATE:\n            case FieldType.TIME:\n                this.createNumberFilter(field.type);\n                break;\n\n            case FieldType.BOOLEAN:\n                this.createBooleanFilter();\n                break;\n\n            case FieldType.CHOICE:\n                this.createChoiceFilter();\n                break;\n\n            case FieldType.CUSTOM:\n                this._operator = () => [ '', '' ];\n                this.other = () => field.value;\n                break;\n        }\n    }\n\n    /**\n     * @internal\n     */\n    applyFilter() {\n        if (! this._operator || ! this.other || ! this._field) {\n            return;\n        }\n\n        const operator = this._operator();\n        const other = this.other();\n\n        this.label.innerText = (this._field.label ?? this._field.name);\n        if (operator[0]) {\n            this.label.innerText += ' ' + this.locale[operator[1] as keyof Localization];\n            if ('null' !== operator[0] && 'notnull' !== operator[0]) {\n                this.label.innerText += ' \"' + other + '\"';\n            }\n        }\n\n        this.hide();\n        this.dispatchEvent(new CustomEvent('apply-filter', {\n            detail: {\n                filter: this,\n                value: {\n                    field: this._field.name,\n                    operator: operator[0],\n                    value: other,\n                },\n            },\n        }))\n    }\n}\n","import '../styles/factes-js.scss';\nimport { Field, FieldProps } from './Field';\nimport EventTarget from 'event-target-shim';\nimport { FieldType } from './FieldType';\nimport { Filter } from './filter/Filter';\nimport { FilterInterface } from './filter/FilterInterface';\nimport { Localization } from './i18n/localization';\nimport { createButton } from './util';\nimport { en } from './i18n/en';\n\ntype DropdownElement = { label: string, filter: FilterInterface };\ninterface FacetsOptions {\n    classPrefix: string;\n    fields: FieldProps[];\n    locale: Localization;\n    dropdownLoader: (value: string, instance: Facets) => Generator<DropdownElement> | IterableIterator<DropdownElement> | DropdownElement[];\n}\n\nconst DEFAULT_OPTIONS: Omit<FacetsOptions, 'fields'> = {\n    classPrefix: '',\n    locale: en,\n    dropdownLoader: function * (value, instance): Generator<DropdownElement> {\n        const textFields = instance.fields.filter(f => f.type === FieldType.TEXT);\n        for (const field of textFields) {\n            yield {\n                label: field.label + ' ' + instance.locale['contains'] + ' \"' + value + '\"',\n                filter: {\n                    field: field.name,\n                    operator: [ 'ct', instance.locale['contains'] ],\n                    value,\n                },\n            };\n        }\n    },\n};\n\nfunction isKeyboardEvent(e: Event): e is KeyboardEvent {\n    return 'key' in e || 'which' in e || 'keyCode' in e;\n}\n\nexport class Facets extends EventTarget {\n    readonly fields: Readonly<Field[]> = [];\n    readonly locale: Localization;\n\n    private readonly options: FacetsOptions;\n    private readonly inputBox: HTMLInputElement;\n    private readonly newFilterBtn: HTMLButtonElement;\n    private readonly filters: Filter[] = [];\n    private readonly _appliedFilters = new Set<FilterInterface>();\n    private readonly dropdown: HTMLDivElement;\n    private dropdownSelected = -1;\n\n    constructor(private element: HTMLDivElement, options: Partial<FacetsOptions> = {}) {\n        super();\n        if ('DIV' !== element.tagName) {\n            throw new TypeError('Facets.js only supports div tags');\n        }\n\n        if (! options.fields || ! Array.isArray(options.fields) || 0 === options.fields.length) {\n            throw new Error('At least one field is required');\n        }\n\n        this.options = Object.assign({}, options, DEFAULT_OPTIONS) as FacetsOptions;\n        if (this.options.classPrefix) {\n            this.options.classPrefix += '-';\n        }\n\n        this.locale = this.options.locale;\n        this.fields = Object.freeze(options.fields.map(f => new Field(f)));\n\n        this.element.innerHTML = '';\n        this.element.classList.add(this.options.classPrefix + 'facets-js-wrapper');\n        this.element.style.display = 'flex';\n        this.element.style.flexWrap = '1';\n\n        // @todo: add default filters\n\n        const newFilterBtn = createButton('new-filter-btn', 'Add filter', 'plus');\n        this.newFilterBtn = this.element.appendChild(newFilterBtn);\n        this.newFilterBtn.addEventListener('click', () => this.createFilter());\n\n        const inputBox = document.createElement('input');\n        inputBox.type = 'text';\n        inputBox.style.minWidth = '10rem';\n        inputBox.style.flexGrow = '1';\n        inputBox.style.border = '0';\n        this.inputBox = this.element.appendChild(inputBox);\n\n        this.inputBox.addEventListener('input', this.onInput.bind(this));\n        this.inputBox.addEventListener('keydown', this.onInput.bind(this));\n        this.inputBox.addEventListener('keypress', this.onInput.bind(this));\n        this.inputBox.addEventListener('click', this.onInput.bind(this));\n\n        this.dropdown = document.body.appendChild(document.createElement('div'));\n        this.dropdown.classList.add('facets-js-dropdown', 'facets-js-hide');\n    }\n\n    destroy() {\n        document.body.removeChild(this.dropdown);\n    }\n\n    get appliedFilters() {\n        return [ ...this._appliedFilters.values() ];\n    }\n\n    private onInput(e: KeyboardEvent | MouseEvent | Event): void {\n        const value = (e.target as HTMLInputElement).value;\n        if (! value) {\n            this.dropdown.classList.add('facets-js-hide');\n            return;\n        }\n\n        const rect = this.inputBox.getBoundingClientRect();\n        const choices = [];\n        for (const choice of this.options.dropdownLoader(value, this)) {\n            choices.push(choice);\n        }\n\n        const applyFilter = (choice: DropdownElement) => {\n            const choiceFilter = choice.filter;\n            const filter = this.createFilter(false);\n\n            filter.field = choiceFilter.field;\n            filter.operator = choiceFilter.operator;\n            filter.value = choiceFilter.value;\n\n            this.filters.push(filter);\n            filter.applyFilter();\n\n            this.dropdown.classList.add('facets-js-hide');\n            this.inputBox.value = '';\n        };\n\n        if (isKeyboardEvent(e)) {\n            if ('Enter' === e.key || 13 === e.which || 13 === e.keyCode) {\n                if (-1 !== this.dropdownSelected) {\n                    applyFilter(choices[this.dropdownSelected]);\n                } else if ('' !== this.inputBox.value) {\n                    this.dropdown.classList.remove('facets-js-hide');\n                }\n\n                return;\n            } else if ('ArrowUp' === e.key || 38 === e.which || 38 === e.keyCode) {\n                if (-1 === this.dropdownSelected || 0 === this.dropdownSelected) {\n                    this.dropdownSelected = this.dropdown.children.length - 1;\n                } else {\n                    this.dropdownSelected--;\n                }\n\n                Array.prototype.slice.call(this.dropdown.children).forEach(e => e.classList.remove('selected'));\n                this.dropdown.children[this.dropdownSelected].classList.add('selected');\n                return;\n            } else if ('ArrowDown' === e.key || 40 === e.which || 40 === e.keyCode) {\n                if (-1 === this.dropdownSelected || this.dropdown.children.length - 1 === this.dropdownSelected) {\n                    this.dropdownSelected = 0;\n                } else {\n                    this.dropdownSelected++;\n                }\n\n                Array.prototype.slice.call(this.dropdown.children).forEach(e => e.classList.remove('selected'));\n                this.dropdown.children[this.dropdownSelected].classList.add('selected');\n                return;\n            } else if ('Escape' === e.key || 27 === e.which || 27 === e.keyCode) {\n                this.dropdownSelected = -1;\n                this.dropdown.classList.add('facets-js-hide');\n\n                return;\n            }\n        }\n\n        this.dropdown.innerHTML = '';\n        this.dropdown.classList.remove('facets-js-hide');\n        this.dropdown.style.width = rect.width.toString() + 'px';\n        this.dropdown.style.overflowY = 'scroll';\n        this.dropdown.style.top = (rect.bottom + 5).toString() + 'px';\n        this.dropdown.style.left = rect.left.toString() + 'px';\n\n        const listener = (e: MouseEvent) => {\n            let el: null | HTMLElement | (Node & ParentNode) = e.target as HTMLElement;\n            do {\n                if (el === this.inputBox || el === this.dropdown) {\n                    return;\n                }\n\n                el = el.parentElement || el.parentNode;\n            } while(null !== el && 1 === el.nodeType)\n\n            this.dropdownSelected = -1;\n            document.removeEventListener('click', listener);\n            this.dropdown.classList.add('facets-js-hide');\n        };\n\n        let index = -1;\n        let height = 0;\n\n        document.addEventListener('click', listener, { capture: true });\n\n        for (const choice of choices) {\n            const currentIndex = ++index;\n            const choiceElement = this.dropdown.appendChild(document.createElement('div'));\n            choiceElement.classList.add('facets-js-combo-choice');\n            choiceElement.innerText = choice.label;\n\n            const hover = () => {\n                Array.prototype.slice.call(this.dropdown.children).forEach(e => e.classList.remove('selected'));\n\n                this.dropdownSelected = currentIndex;\n                choiceElement.classList.add('selected');\n            };\n\n            choiceElement.addEventListener('mouseover', hover);\n            choiceElement.addEventListener('mouseenter', hover);\n            choiceElement.addEventListener('mouseout', () => {\n                if (this.dropdownSelected === currentIndex) {\n                    this.dropdownSelected = -1;\n                }\n\n                choiceElement.classList.remove('selected');\n            });\n\n            choiceElement.addEventListener('click', applyFilter.bind(this, choice));\n\n            const rect = choiceElement.getBoundingClientRect();\n            height += rect.height;\n        }\n\n        this.dropdown.style.height = height.toString() + 'px';\n    }\n\n    private createFilter(show = true) {\n        const filter = new Filter(\n            this.fields,\n            (element: HTMLElement) => this.element.insertBefore(element, this.newFilterBtn),\n            this.locale,\n            show\n        );\n\n        this.filters.push(filter);\n        this.newFilterBtn.style.display = 'none';\n\n        filter.addEventListener('remove', () => {\n            this.element.removeChild(filter.container);\n            this.filters.splice(this.filters.indexOf(filter), 1);\n            this.newFilterBtn.style.display = 'block';\n            this._appliedFilters.delete(filter);\n        }, { once: true });\n\n        filter.addEventListener('open', () => {\n            this.newFilterBtn.style.display = 'none';\n        });\n\n        filter.addEventListener('apply-filter', (e: Event) => {\n            this.newFilterBtn.style.display = 'block';\n            const { filter } = (e as CustomEvent).detail;\n            this._appliedFilters.add(filter);\n\n            this.dispatchEvent(new CustomEvent('change', {\n                detail: this.appliedFilters,\n            }));\n        });\n\n        return filter;\n    }\n}\n","import { en } from './lib/i18n/en';\nimport { it } from './lib/i18n/it';\n\nexport * from './lib/Facets';\nexport * from './lib/Field';\nexport * from './lib/filter/Filter';\nexport * from './lib/filter/FilterInterface';\nexport * from './lib/FieldType';\n\nexport const locales = {\n    en: en,\n    it: it,\n};\n"],"names":["FieldType"],"mappings":"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"}